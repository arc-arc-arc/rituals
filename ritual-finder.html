<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ritual & Enchantment Video Finder</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
            background: linear-gradient(135deg, #2c1654 0%, #4a148c 50%, #1a0033 100%);
            min-height: 100vh;
            padding: 20px;
        }
        .container {
            max-width: 900px;
            margin: 0 auto;
            background: rgba(255, 255, 255, 0.95);
            border-radius: 16px;
            padding: 40px;
            box-shadow: 0 20px 60px rgba(138, 43, 226, 0.5);
        }
        h1 {
            color: #4a148c;
            margin-bottom: 10px;
            font-size: 32px;
        }
        .subtitle {
            color: #666;
            margin-bottom: 30px;
        }
        label {
            display: block;
            font-weight: 600;
            margin-bottom: 8px;
            color: #333;
            font-size: 14px;
        }
        input[type="password"], input[type="range"], input[type="date"], input[type="number"] {
            width: 100%;
            padding: 12px;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            font-size: 14px;
            margin-bottom: 20px;
            transition: border-color 0.3s;
        }
        input[type="password"]:focus, input[type="date"]:focus, input[type="number"]:focus {
            outline: none;
            border-color: #7b1fa2;
        }
        button.search-btn {
            width: 100%;
            padding: 16px;
            background: linear-gradient(135deg, #6a1b9a 0%, #ab47bc 100%);
            color: white;
            border: none;
            border-radius: 8px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: transform 0.2s, box-shadow 0.2s;
        }
        button.search-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 25px rgba(123, 31, 162, 0.4);
        }
        button.search-btn:disabled {
            background: #ccc;
            cursor: not-allowed;
            transform: none;
        }
        .status {
            padding: 16px;
            border-radius: 8px;
            margin: 20px 0;
        }
        .status.info {
            background: #e1bee7;
            border: 1px solid #9c27b0;
            color: #4a148c;
        }
        .status.error {
            background: #ffebee;
            border: 1px solid #f44336;
            color: #c62828;
        }
        .status.success {
            background: #e8f5e9;
            border: 1px solid #4caf50;
            color: #2e7d32;
        }
        .video-container {
            margin-top: 30px;
            border-top: 2px solid #e0e0e0;
            padding-top: 30px;
        }
        .link {
            display: inline-block;
            margin-top: 15px;
            color: #7b1fa2;
            text-decoration: none;
            font-weight: 600;
            font-size: 12px;
        }
        .link:hover {
            text-decoration: underline;
        }
        .range-labels {
            display: flex;
            justify-content: space-between;
            font-size: 12px;
            color: #666;
            margin-top: -10px;
            margin-bottom: 20px;
        }
        .video-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }
        .video-card {
            background: #f5f5f5;
            border-radius: 8px;
            overflow: hidden;
            border: 1px solid #e0e0e0;
            transition: box-shadow 0.3s;
        }
        .video-card:hover {
            box-shadow: 0 4px 12px rgba(123, 31, 162, 0.3);
        }
        .video-thumbnail {
            width: 100%;
            aspect-ratio: 16/9;
            background: #000;
            overflow: hidden;
        }
        .video-thumbnail img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
        .video-card-content {
            padding: 15px;
        }
        .video-card-title {
            font-size: 14px;
            font-weight: 600;
            margin-bottom: 8px;
            display: -webkit-box;
            -webkit-line-clamp: 2;
            -webkit-box-orient: vertical;
            overflow: hidden;
        }
        .video-card-channel {
            font-size: 12px;
            color: #666;
            margin-bottom: 8px;
        }
        .video-card-stats {
            display: flex;
            gap: 12px;
            font-size: 11px;
            color: #888;
            margin-bottom: 10px;
        }
        .video-card-views {
            font-weight: 600;
            color: #7b1fa2;
        }
        .video-card-query {
            font-size: 10px;
            color: #999;
            margin-bottom: 10px;
            font-style: italic;
        }
        .date-mode-buttons {
            display: flex;
            gap: 10px;
            margin-bottom: 15px;
        }
        .date-mode-btn {
            flex: 1;
            padding: 10px;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            background: white;
            cursor: pointer;
            font-weight: 600;
            font-size: 14px;
            transition: all 0.3s;
        }
        .date-mode-btn:hover {
            border-color: #7b1fa2;
        }
        .date-mode-btn.active {
            border-color: #7b1fa2;
            background: #f3e5f5;
            color: #7b1fa2;
        }
        .date-inputs {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 10px;
        }
        .date-input-group label {
            display: block;
            font-size: 11px;
            color: #666;
            margin-bottom: 5px;
            font-weight: 600;
        }
        .date-input-group input {
            width: 100%;
            padding: 8px;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            font-size: 13px;
        }
        .progress-bar {
            width: 100%;
            height: 8px;
            background: #e0e0e0;
            border-radius: 4px;
            overflow: hidden;
            margin-bottom: 20px;
        }
        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #6a1b9a, #ab47bc);
            transition: width 0.3s ease;
        }
        .info-box {
            background: #f3e5f5;
            border: 1px solid #9c27b0;
            border-radius: 8px;
            padding: 15px;
            margin-bottom: 20px;
        }
        .info-box h3 {
            color: #6a1b9a;
            margin-bottom: 8px;
            font-size: 13px;
            font-weight: 600;
        }
        .info-box p {
            font-size: 12px;
            color: #4a148c;
            line-height: 1.5;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>üîÆ Ritual & Enchantment Finder</h1>
        <p class="subtitle">Discover obscure videos of magical rituals, spells, and enchantments from around the world (no duplicate creators, no kids content)</p>

        <div class="info-box">
            <h3>‚ú® Search Terms (50+ languages)</h3>
            <p>This tool searches for: ritual, spell, magic, enchantment, ceremony, incantation, conjure, witchcraft, sorcery, mysticism, shamanism, and their translations in Arabic, Hindi, Spanish, Japanese, Chinese, Korean, Russian, Portuguese, French, German, and 40+ more languages.</p>
        </div>

        <div>
            <label>YouTube API Key</label>
            <input type="password" id="apiKey" placeholder="Enter your YouTube Data API v3 key">
        </div>

        <div>
            <label>Maximum Views: <span id="maxViewsLabel">100</span></label>
            <input type="range" id="maxViews" min="1" max="500" step="1" value="100">
            <div class="range-labels">
                <span>Ultra obscure (1)</span>
                <span>More results (500)</span>
            </div>
        </div>

        <div>
            <label>Target Videos: <span id="targetLabel">15</span></label>
            <input type="number" id="targetVideos" min="1" max="50" value="15">
        </div>

        <div style="margin-bottom: 20px;">
            <label>Date Range</label>
            <div class="date-mode-buttons">
                <button class="date-mode-btn active" id="oldVideosBtn">Old Videos (2005-2015)</button>
                <button class="date-mode-btn" id="customDateBtn">Custom Range</button>
            </div>
            <div class="date-inputs" id="dateInputs" style="display: none;">
                <div class="date-input-group">
                    <label for="startDate">Start Date</label>
                    <input type="date" id="startDate">
                </div>
                <div class="date-input-group">
                    <label for="endDate">End Date</label>
                    <input type="date" id="endDate">
                </div>
            </div>
        </div>

        <button class="search-btn" id="searchBtn">üîç Search for Ritual Videos</button>

        <div id="status"></div>
        <div id="videoContainer"></div>
    </div>

    <script>
        let dateMode = 'old';
        const TARGET_VIDEOS = 15;
        
        const ritualSearchTerms = [
            // English
            { word: 'ritual', lang: 'English' },
            { word: 'spell', lang: 'English' },
            { word: 'magic ceremony', lang: 'English' },
            { word: 'enchantment', lang: 'English' },
            { word: 'incantation', lang: 'English' },
            { word: 'conjure', lang: 'English' },
            { word: 'witchcraft ritual', lang: 'English' },
            { word: 'sorcery', lang: 'English' },
            { word: 'mysticism', lang: 'English' },
            { word: 'shamanic ritual', lang: 'English' },
            { word: 'pagan ceremony', lang: 'English' },
            { word: 'occult ritual', lang: 'English' },
            
            // Spanish
            { word: 'ritual m√°gico', lang: 'Spanish' },
            { word: 'hechizo', lang: 'Spanish' },
            { word: 'brujer√≠a', lang: 'Spanish' },
            { word: 'ceremonia m√≠stica', lang: 'Spanish' },
            { word: 'encantamiento', lang: 'Spanish' },
            { word: 'magia ritual', lang: 'Spanish' },
            
            // French
            { word: 'rituel magique', lang: 'French' },
            { word: 'sort', lang: 'French' },
            { word: 'sorcellerie', lang: 'French' },
            { word: 'c√©r√©monie mystique', lang: 'French' },
            { word: 'enchantement', lang: 'French' },
            
            // German
            { word: 'magisches ritual', lang: 'German' },
            { word: 'zauber', lang: 'German' },
            { word: 'hexerei', lang: 'German' },
            { word: 'beschw√∂rung', lang: 'German' },
            
            // Italian
            { word: 'rituale magico', lang: 'Italian' },
            { word: 'incantesimo', lang: 'Italian' },
            { word: 'stregoneria', lang: 'Italian' },
            
            // Portuguese
            { word: 'ritual m√°gico', lang: 'Portuguese' },
            { word: 'feiti√ßo', lang: 'Portuguese' },
            { word: 'bruxaria', lang: 'Portuguese' },
            { word: 'macumba', lang: 'Portuguese' },
            { word: 'umbanda', lang: 'Portuguese' },
            { word: 'candombl√©', lang: 'Portuguese' },
            
            // Russian
            { word: '–º–∞–≥–∏—á–µ—Å–∫–∏–π —Ä–∏—Ç—É–∞–ª', lang: 'Russian' },
            { word: '–∑–∞–∫–ª–∏–Ω–∞–Ω–∏–µ', lang: 'Russian' },
            { word: '–∫–æ–ª–¥–æ–≤—Å—Ç–≤–æ', lang: 'Russian' },
            { word: '–æ–±—Ä—è–¥', lang: 'Russian' },
            
            // Arabic
            { word: 'ÿ∑ŸÇŸàÿ≥ ÿ≥ÿ≠ÿ±Ÿäÿ©', lang: 'Arabic' },
            { word: 'ÿ™ÿπŸàŸäÿ∞ÿ©', lang: 'Arabic' },
            { word: 'ÿ≥ÿ≠ÿ±', lang: 'Arabic' },
            { word: 'ÿ¥ÿπŸàÿ∞ÿ©', lang: 'Arabic' },
            
            // Hindi
            { word: '‡§ú‡§æ‡§¶‡•Ç ‡§ï‡§æ ‡§Ö‡§®‡•Å‡§∑‡•ç‡§†‡§æ‡§®', lang: 'Hindi' },
            { word: '‡§Æ‡§Ç‡§§‡•ç‡§∞', lang: 'Hindi' },
            { word: '‡§§‡§Ç‡§§‡•ç‡§∞', lang: 'Hindi' },
            { word: '‡§ü‡•ã‡§®‡§æ', lang: 'Hindi' },
            { word: '‡§™‡•Ç‡§ú‡§æ ‡§Ö‡§®‡•Å‡§∑‡•ç‡§†‡§æ‡§®', lang: 'Hindi' },
            
            // Japanese
            { word: 'È≠îÊ≥ï„ÅÆÂÑÄÂºè', lang: 'Japanese' },
            { word: 'Âë™Êñá', lang: 'Japanese' },
            { word: 'È≠îË°ì', lang: 'Japanese' },
            { word: 'Âë™Ë°ì', lang: 'Japanese' },
            
            // Chinese
            { word: 'È≠îÊ≥ï‰ª™Âºè', lang: 'Chinese' },
            { word: 'ÂííËØ≠', lang: 'Chinese' },
            { word: 'Â∑´ÊúØ', lang: 'Chinese' },
            { word: 'Ê≥ïÊúØ', lang: 'Chinese' },
            
            // Korean
            { word: 'ÎßàÎ≤ï ÏùòÏãù', lang: 'Korean' },
            { word: 'Ï£ºÎ¨∏', lang: 'Korean' },
            { word: 'ÎßàÏà†', lang: 'Korean' },
            
            // Turkish
            { word: 'sihir rit√ºeli', lang: 'Turkish' },
            { word: 'b√ºy√º', lang: 'Turkish' },
            
            // Polish
            { word: 'rytua≈Ç magiczny', lang: 'Polish' },
            { word: 'czary', lang: 'Polish' },
            
            // Dutch
            { word: 'magisch ritueel', lang: 'Dutch' },
            { word: 'toverij', lang: 'Dutch' },
            
            // Swedish
            { word: 'magisk ritual', lang: 'Swedish' },
            { word: 'trolldom', lang: 'Swedish' },
            
            // Greek
            { word: 'ŒºŒ±Œ≥ŒπŒ∫œå œÑŒµŒªŒµœÑŒøœÖœÅŒ≥ŒπŒ∫œå', lang: 'Greek' },
            { word: 'ŒæœåœÅŒ∫Œπ', lang: 'Greek' },
            
            // Hebrew
            { word: '◊ò◊ß◊° ◊ß◊°◊ù', lang: 'Hebrew' },
            { word: '◊ú◊ó◊©', lang: 'Hebrew' },
            
            // Vietnamese
            { word: 'nghi l·ªÖ ma thu·∫≠t', lang: 'Vietnamese' },
            { word: 'b√πa ph√©p', lang: 'Vietnamese' },
            
            // Thai
            { word: '‡∏û‡∏¥‡∏ò‡∏µ‡∏Å‡∏£‡∏£‡∏°‡πÄ‡∏ß‡∏ó‡∏°‡∏ô‡∏ï‡∏£‡πå', lang: 'Thai' },
            { word: '‡∏Ñ‡∏≤‡∏ñ‡∏≤', lang: 'Thai' },
            
            // Indonesian
            { word: 'ritual magis', lang: 'Indonesian' },
            { word: 'mantra', lang: 'Indonesian' },
            { word: 'ilmu hitam', lang: 'Indonesian' },
            
            // Filipino
            { word: 'ritwal', lang: 'Filipino' },
            { word: 'salamangka', lang: 'Filipino' },
            
            // Bengali
            { word: '‡¶ú‡¶æ‡¶¶‡ßÅ‡¶∞ ‡¶Ü‡¶ö‡¶æ‡¶∞', lang: 'Bengali' },
            { word: '‡¶Æ‡¶®‡ßç‡¶§‡ßç‡¶∞', lang: 'Bengali' },
            
            // Persian
            { word: 'ÿ¢€å€åŸÜ ÿ¨ÿßÿØŸà€å€å', lang: 'Persian' },
            { word: 'ÿ∑ŸÑÿ≥ŸÖ', lang: 'Persian' },
            
            // Tamil
            { word: '‡ÆÆ‡Æ®‡Øç‡Æ§‡Æø‡Æ∞ ‡Æö‡Æü‡Æô‡Øç‡Æï‡ØÅ', lang: 'Tamil' },
            { word: '‡ÆÆ‡Ææ‡ÆØ‡Ææ‡Æú‡Ææ‡Æ≤‡ÆÆ‡Øç', lang: 'Tamil' },
            
            // Yoruba
            { word: '√¨·π£·∫πÃÄ·π£e', lang: 'Yoruba' },
            { word: '√†f·ªçÃÄ·π£·∫π', lang: 'Yoruba' },
            
            // Swahili
            { word: 'ibada ya uchawi', lang: 'Swahili' },
            { word: 'uchawi', lang: 'Swahili' },
            
            // Haitian Creole
            { word: 'rituel vodou', lang: 'Haitian-Creole' },
            { word: 'wanga', lang: 'Haitian-Creole' },
            
            // Romanian
            { word: 'ritual magic', lang: 'Romanian' },
            { word: 'vrƒÉjitorie', lang: 'Romanian' },
            
            // Czech
            { word: 'magick√Ω ritu√°l', lang: 'Czech' },
            { word: 'kouzlo', lang: 'Czech' },
            
            // Hungarian
            { word: 'm√°gikus ritu√°l√©', lang: 'Hungarian' },
            { word: 'var√°zslat', lang: 'Hungarian' },
            
            // Finnish
            { word: 'maaginen rituaali', lang: 'Finnish' },
            { word: 'loitsu', lang: 'Finnish' },
            
            // Norwegian
            { word: 'magisk ritual', lang: 'Norwegian' },
            { word: 'trolldom', lang: 'Norwegian' },
            
            // Danish
            { word: 'magisk ritual', lang: 'Danish' },
            { word: 'trolddom', lang: 'Danish' }
        ];

        // Set default end date to today, start date to 10 years ago
        const today = new Date();
        document.getElementById('endDate').value = today.toISOString().split('T')[0];
        const tenYearsAgo = new Date();
        tenYearsAgo.setFullYear(tenYearsAgo.getFullYear() - 10);
        document.getElementById('startDate').value = tenYearsAgo.toISOString().split('T')[0];

        // Track used creators and last language for variety
        let usedCreators = new Set();
        let lastLanguage = null;

        // Date mode toggle
        document.getElementById('oldVideosBtn').addEventListener('click', () => {
            dateMode = 'old';
            document.getElementById('oldVideosBtn').classList.add('active');
            document.getElementById('customDateBtn').classList.remove('active');
            document.getElementById('dateInputs').style.display = 'none';
        });

        document.getElementById('customDateBtn').addEventListener('click', () => {
            dateMode = 'custom';
            document.getElementById('customDateBtn').classList.add('active');
            document.getElementById('oldVideosBtn').classList.remove('active');
            document.getElementById('dateInputs').style.display = 'grid';
        });

        document.getElementById('maxViews').addEventListener('input', (e) => {
            document.getElementById('maxViewsLabel').textContent = parseInt(e.target.value).toLocaleString();
        });

        document.getElementById('targetVideos').addEventListener('input', (e) => {
            document.getElementById('targetLabel').textContent = e.target.value;
        });

        async function searchVideos(apiKey, query) {
            let publishedAfter, publishedBefore;
            
            if (dateMode === 'old') {
                // Random date between 2005-2015
                const startYear = 2005;
                const endYear = 2015;
                const randomYear = startYear + Math.floor(Math.random() * (endYear - startYear + 1));
                const randomMonth = Math.floor(Math.random() * 12);
                const randomDay = Math.floor(Math.random() * 28) + 1; // Safe for all months
                
                publishedAfter = new Date(randomYear, randomMonth, randomDay);
                publishedBefore = new Date(randomYear, randomMonth, randomDay + 60); // 60 day window
            } else {
                publishedAfter = new Date(document.getElementById('startDate').value);
                publishedAfter.setHours(0, 0, 0, 0); // Start of day
                
                publishedBefore = new Date(document.getElementById('endDate').value);
                publishedBefore.setHours(23, 59, 59, 999); // End of day
            }

            const url = `https://www.googleapis.com/youtube/v3/search?part=snippet&q=${encodeURIComponent(query)}&type=video&order=date&maxResults=50&publishedAfter=${publishedAfter.toISOString()}&publishedBefore=${publishedBefore.toISOString()}&key=${apiKey}`;
            
            const response = await fetch(url);
            const data = await response.json();
            
            if (data.error) throw new Error(data.error.message);
            return data.items || [];
        }

        async function getVideoDetails(apiKey, videoIds) {
            const url = `https://www.googleapis.com/youtube/v3/videos?part=snippet,statistics,contentDetails&id=${videoIds.join(',')}&key=${apiKey}`;
            
            const response = await fetch(url);
            const data = await response.json();
            
            if (data.error) throw new Error(data.error.message);
            return data.items || [];
        }

        function isKidsContent(video) {
            // Check if video is made for kids
            if (video.status && video.status.madeForKids) {
                return true;
            }
            
            // Check contentDetails for additional indicators
            if (video.contentDetails && video.contentDetails.contentRating) {
                const rating = video.contentDetails.contentRating;
                if (rating.ytRating === 'ytAgeRestricted') {
                    return false; // Age-restricted is definitely not for kids
                }
            }
            
            // Additional heuristic checks in title/description
            const text = (video.snippet.title + ' ' + (video.snippet.description || '')).toLowerCase();
            const kidsKeywords = ['kids', 'children', 'toddler', 'baby', 'nursery rhyme', 'cartoon for kids', 
                                  'learn colors', 'abc song', 'finger family', 'cocomelon', 'kids songs'];
            
            for (const keyword of kidsKeywords) {
                if (text.includes(keyword)) {
                    return true;
                }
            }
            
            return false;
        }

        function showStatus(message, type) {
            const statusDiv = document.getElementById('status');
            statusDiv.className = `status ${type}`;
            statusDiv.innerHTML = message;
        }

        function displayVideos(videos, targetVideos) {
            const container = document.getElementById('videoContainer');
            const progress = (videos.length / targetVideos) * 100;
            
            container.innerHTML = `
                <div class="video-container">
                    <div class="status success">
                        üîÆ Found ${videos.length}/${targetVideos} ritual videos from ${usedCreators.size} different creators!
                    </div>
                    <div class="progress-bar">
                        <div class="progress-fill" style="width: ${progress}%"></div>
                    </div>
                    <div class="video-grid" id="videoGrid"></div>
                </div>
            `;
            
            const grid = document.getElementById('videoGrid');
            videos.forEach(video => {
                const card = document.createElement('div');
                card.className = 'video-card';
                card.innerHTML = `
                    <div class="video-thumbnail">
                        <img src="${video.snippet.thumbnails.medium.url}" alt="${video.snippet.title}">
                    </div>
                    <div class="video-card-content">
                        <div class="video-card-title">${video.snippet.title}</div>
                        <div class="video-card-channel">${video.snippet.channelTitle}</div>
                        <div class="video-card-stats">
                            <span class="video-card-views">${parseInt(video.statistics.viewCount).toLocaleString()} views</span>
                            <span>${new Date(video.snippet.publishedAt).toLocaleDateString()}</span>
                        </div>
                        <div class="video-card-query">Search: "${video.searchQuery}" (${video.detectedLang})</div>
                        <a href="https://www.youtube.com/watch?v=${video.id}" target="_blank" class="link">
                            Watch on YouTube ‚Üí
                        </a>
                    </div>
                `;
                grid.appendChild(card);
            });
        }

        document.getElementById('searchBtn').addEventListener('click', async () => {
            const apiKey = document.getElementById('apiKey').value;
            const maxViews = parseInt(document.getElementById('maxViews').value);
            const targetVideos = parseInt(document.getElementById('targetVideos').value);
            
            if (!apiKey) {
                showStatus('Please enter your YouTube API key', 'error');
                return;
            }

            const btn = document.getElementById('searchBtn');
            btn.disabled = true;
            document.getElementById('videoContainer').innerHTML = '';

            try {
                let collectedVideos = [];
                usedCreators = new Set();
                lastLanguage = null;
                let attemptCount = 0;
                const maxAttempts = 150;

                while (collectedVideos.length < targetVideos && attemptCount < maxAttempts) {
                    attemptCount++;
                    
                    // Pick a language different from the last one
                    let availableTerms = ritualSearchTerms.filter(v => v.lang !== lastLanguage);
                    if (availableTerms.length === 0) {
                        availableTerms = ritualSearchTerms;
                    }
                    
                    const variant = availableTerms[Math.floor(Math.random() * availableTerms.length)];
                    const query = variant.word;
                    lastLanguage = variant.lang;
                    
                    btn.textContent = `üîç Searching... (${collectedVideos.length}/${targetVideos} found)`;
                    showStatus(`Searching "${query}" (${variant.lang})... Found ${collectedVideos.length}/${targetVideos}`, 'info');
                    
                    const searchResults = await searchVideos(apiKey, query);
                    if (searchResults.length === 0) continue;

                    const videoIds = searchResults.map(item => item.id.videoId);
                    const videos = await getVideoDetails(apiKey, videoIds);
                    
                    // Filter: view count, not used creator, not kids content
                    for (const video of videos) {
                        if (collectedVideos.length >= targetVideos) break;
                        
                        const views = parseInt(video.statistics.viewCount);
                        const channelId = video.snippet.channelId;
                        const notUsedCreator = !usedCreators.has(channelId);
                        const notKidsContent = !isKidsContent(video);
                        
                        if (views > maxViews || !notUsedCreator || !notKidsContent) {
                            continue;
                        }
                        
                        // Video passes all filters
                        video.detectedLang = variant.lang;
                        video.searchQuery = query;
                        collectedVideos.push(video);
                        usedCreators.add(channelId);
                        displayVideos(collectedVideos, targetVideos);
                        
                        // Switch language for next video
                        lastLanguage = variant.lang;
                        break; // Move to next language
                    }
                }

                if (collectedVideos.length === targetVideos) {
                    showStatus(`‚úÖ Complete! Found exactly ${targetVideos} ritual videos from ${usedCreators.size} different creators.`, 'success');
                } else {
                    showStatus(`Search stopped at ${collectedVideos.length} videos after ${attemptCount} attempts. Try adjusting your filters or increasing max views.`, 'info');
                }

                btn.disabled = false;
                btn.textContent = 'üîç Search Again';
            } catch (error) {
                showStatus(`Error: ${error.message}`, 'error');
                btn.disabled = false;
                btn.textContent = 'üîç Try Again';
            }
        });
    </script>
</body>
</html>
